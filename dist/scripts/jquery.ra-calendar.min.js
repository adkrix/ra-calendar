/*! jquery.ra-calendar.js 2014-02-10 00:02 */
$(function(){"use strict";$.RaCalendar={version:"0.0.1",elements:{root:null,header:null,resources:null,content:null},config:{defaults:{begin_time:"09:00:00",duration:3600},date_round:"15m",events:{id:"id",resource_id:"resource_id",title:"name",begin:"begin",end:"end",duration:""},resources:{id:"",title:"name"}},events:[],resorces:[],default_color:{color:"#000000",background:"#eeeeee"}},$.RaCalendar.methods={date:{parse:function(a){return new Date(Date.parse(a))},format:function(a,b){return DateFormat.format.date(a,b)},reformat:function(a,b){return this.format(this.parseDate(a),b)},isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){var c;return[31,null!=(c=this.isLeapYear(a))?c:{29:28},31,30,31,30,31,31,30,31,30,31][b]},normalize:function(a,b){return b?"object"==typeof b?b:this.parse(b):$.now()},update:function(a,b){return new Date(a.setSeconds(b))}},tmpl:function(a,b){return a.replace(/\{([\w\.]*)\}/g,function(a,c){var d,e,f,g;for(d=c.split("."),e=b[d.shift()],f=0,g=d.length;g>f;f++)c=d[f],e=e[c];return"undefined"!=typeof e&&null!==e?e:""})},roundDate:function(a,b){return b=function(){switch(b){case"1m":return 6e4;case"5m":return 3e5;case"10m":return 6e5;case"15m":return 9e5;case"30m":return 18e5;default:return 6e4}}(),Math.floor(+a/b)*b},normalizeEvents:function(a){var b,c;return c=$.RaCalendar.config.events,b=$.RaCalendar.handlers,a},updateEvents:function(a){return a},updateResources:function(a){return a}},$.RaCalendar.methods.date={clone:function(a){return new Date(a.getTime())},parse:function(a){return new Date(Date.parse(a))},format:function(a,b){return DateFormat.format.date(a,b)},reformat:function(a,b){return this.format(this.parseDate(a),b)},isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){var c;return[31,null!=(c=this.isLeapYear(a))?c:{29:28},31,30,31,30,31,31,30,31,30,31][b]},normalize:function(a){return a?"object"==typeof a?a:this.parse(a):$.now()},update:function(a,b){return new Date(a.setSeconds(b))}},$.RaCalendar.template={header:{main:"<div class='rac-header'>h</div>"},resources:{main:"<div class='rac-resources'>r</div>"},content:{main:"<div class='rac-content'>c</div>"},ul:"<ul>{list}</ul>",li_link:"<li><a href='{url}'>{title}</a></li>",li_div:"<li><div>{title}</div> </li>"},$.fn.RaCalendar=function(a){return $(this).each(function(){var b,c,d,e,f,g;return b=$.extend(!0,{},$.RaCalendar),d=b.elements,d.root=$(this).empty(),c=b.config,a.config&&$.extend(!0,c,a.config),f=b.template,a.template&&$.extend(!0,f,a.template),e=b.methods,a.parseDate&&(e.date.parse=a.parseDate),a.formatDate&&(e.date.format=a.formatDate),b.date=e.date.normalize(a.date),b.events=a.events?e.updateEvents(a.events):[],b.resources=a.resources?e.updateResources(a.resources):[],d.header=$(f.header.main).appendTo(d.root),d.resources=$(f.resources.main).appendTo(d.root),d.content=$(f.content.main).appendTo(d.root),g="",$.each(b.events,function(a,b){return g+=b.url?e.tmpl(f.li_link,b):e.tmpl(f.li_div,b)}),d.content.html(e.tmpl(f.ul,{list:g}))})}});